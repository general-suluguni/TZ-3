# ТЗ-3
Данный репозиторий предназначен для проекта системы доставки еды из ресторанов. Для описания системы используются диаграммы UML.


Система предусматривает следующие варианты использования:
- Пользователь может создать заказ (для этого необходимо выбрать ресторан, позиции из меню и адрес доставки), оплатить его, затем отслеживать его статус до самого момента получения
- Повара из ресторана могут изменять статус заказа в соответствии со своими действиями
- Сборщики заказов также могут изменять статус заказа
- Курьер изменяет статус заказа по завершении доставки
  
Варианты использования отражены на соответствующей диаграмме:

![1Диаграмма_вариантов_использования](https://github.com/general-suluguni/TZ-3/assets/167622542/b23e0419-c30d-4660-b632-1c55fb1f619d)

Статус заказа изменяется следующим образом:
1) Изначально заказ находится на стадии создания
2) Если адрес доставки указан и в корзине есть хоть одно блюдо, пользователь может запросить завершение оформление и заказ перейдет в состояние оплаты
3) Если оплата не пройдет, в статусе заказа будет отображаться ошибка при оплате, в ином случае заказ будет оплачен
4) Если отвественный за заказ повар приступил к приготовлению, заказ считается взятым в работу
5) Когда повар отчитается о завершении приготовления блюд, заказ будет отображаться как приготовленный
6) Затем заказ переходит в состояние сборки
7) Если курьер забрал заказ, то сборщик заказов отмечает, что заказ передан курьеру
8) Как только курьер передает пользователю заказ, заказ считается доставленным

Более подробно статусы закза отражены на диаграмме состояний:

![1Диаграмма_состояний](https://github.com/general-suluguni/TZ-3/assets/167622542/587cd68b-c696-47a9-b89c-69aba31c96cb)

Диаграмма последовтельностей отражает процессы, происходящие в системе.

При создании заказа, заказ обращается к списку ресторанов и предлагает пользователю выбрать один из них. Затем заказ обращается через список ресторанов к необходимому и передает пользователю его меню. Пользователь добавляет желаемые блюда в корзину заказа, указывает адрес доставки, а затем запрашивает завершение оформленя заказа. Заказ получает статус "Оплата" и обращается к модулю оплаты, который проверяет возможность оплаиты, получает через заказ подтверждение пользователя и проводит списание средств. После этого статус заказа меняется на "Оплачен" и пользователь может наблюдать за дальнейшими изменениями его статуса. Заказ передается в ресторан, после чего назначаются ответственные повар и сборщик, которые выполняют свои действия и меняют статус заказа соответствующим образом. Когда заказ собран, его забирает курьер и доставляет по указанномму адресу, после чего заказ получает статус "Доставлен".

![1Диаграмма_послед](https://github.com/general-suluguni/TZ-3/assets/167622542/21c32694-4c7c-4627-bc08-42051dc39c34)

Диаграмма классов раскрывает информацию о сущностях, взаимодействующих вышеописанным образом.

От родительского класса Account наследуются:
- класс User, являющийся аккаунтом пользователя. Он имеет поля с имеенем владельца и истоорией его заказов, а так же методы для создания заказов, запроса оплаты и доступа к статусу текущего заказа
- класс Courrier account - аккаунт курьера, отличающийся от пользовательского методами. Он содержит метод, позволяющий выбирать заказ для доставки.
- классы Cook account и Packer account - аккаунты повара и сборщика заказов соответсвенно, имеющие поле Is_free, позволяющее узнать, занят ли работник в данный момент

Самым значимым классом является класс Order, имеюющие поля с корзиной, адресом доставки, выбранным рестораном, ценой покупки и статусом. Он имеет методы выбора ресторана, добавления в корзину, выбора адеерса, запроса оплаты, передачи себя в класс ресторан и обновления статуса.

List of restaurants необходим для выбора ресторана и имеет методыЮ позволяющие редактировать список. Класс Restaurant имеет поля с адресом и меню, а так же методы обновления меню, направления запроса к поварам и сборщикам. Меню ресторана составлено из объектов класса Dish, имеющих поля с описанием и ценой, а также методы, позволяющие их редактировать.

Кроме того, имеется класс PaySys, отвечающий за операции оплаты.

Информация о количественном соотношении классов и других связях представлена на диаграмме.

![1Диаграмма_классов](https://github.com/general-suluguni/TZ-3/assets/167622542/52690678-a229-4448-b29f-3a9b0184007c)

Более подробно процесс обработки заказа системой показан на диаграмме деятельности:

![1Диаграмма_деятельности](https://github.com/general-suluguni/TZ-3/assets/167622542/4b065730-c581-4011-a6d4-3af694d3d6a3)
